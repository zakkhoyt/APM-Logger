//
//  VWWWaveScene.m
//  RCTools
//
//  Created by Zakk Hoyt on 4/19/14.
//  Copyright (c) 2014 Zakk Hoyt. All rights reserved.
//

#import "VWWWaveScene.h"


typedef struct {
    float Position[3];
    float Color[4];
} Vertex;

//const NSUInteger kCount = 300;
//Vertex CVertices[kCount] = {};// {{{1.000000, 0.000000, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.999846, 0.017550, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.999384, 0.035094, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.998614, 0.052628, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.997537, 0.070146, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.996152, 0.087641, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.994461, 0.105110, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.992463, 0.122547, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.990159, 0.139945, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.987551, 0.157301, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.984638, 0.174608, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.981422, 0.191862, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.977904, 0.209056, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.974084, 0.226186, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.969965, 0.243246, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.965546, 0.260232, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.960831, 0.277137, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.955819, 0.293956, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.950513, 0.310686, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.944914, 0.327319, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.939024, 0.343852, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.932845, 0.360279, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.926378, 0.376595, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.919626, 0.392794, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.912591, 0.408873, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.905275, 0.424826, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.897680, 0.440648, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.889808, 0.456335, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.881663, 0.471880, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.873245, 0.487281, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.864559, 0.502531, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.855607, 0.517627, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.846391, 0.532563, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.836914, 0.547335, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.827179, 0.561938, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.817190, 0.576369, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.806949, 0.590621, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.796459, 0.604692, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.785724, 0.618577, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.774747, 0.632271, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.763532, 0.645770, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.752081, 0.659071, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.740398, 0.672168, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.728488, 0.685059, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.716353, 0.697738, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.703997, 0.710203, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.691425, 0.722448, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.678640, 0.734471, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.665645, 0.746268, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.652446, 0.757835, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.639045, 0.769169, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.625448, 0.780266, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.611658, 0.791122, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.597680, 0.801735, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.583517, 0.812101, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.569175, 0.822216, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.554658, 0.832079, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.539970, 0.841685, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.525115, 0.851031, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.510098, 0.860116, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.494925, 0.868936, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.479599, 0.877488, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.464125, 0.885769, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.448509, 0.893778, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.432754, 0.901512, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.416866, 0.908968, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.400849, 0.916144, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.384709, 0.923038, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.368451, 0.929647, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.352079, 0.935970, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.335599, 0.942005, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.319015, 0.947750, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.302333, 0.953202, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.285558, 0.958362, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.268694, 0.963225, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.251749, 0.967793, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.234725, 0.972062, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.217629, 0.976031, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.200467, 0.979701, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.183242, 0.983068, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.165961, 0.986132, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.148629, 0.988893, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.131251, 0.991349, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.113833, 0.993500, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.096379, 0.995345, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.078897, 0.996883, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.061389, 0.998114, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.043863, 0.999038, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.026323, 0.999653, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.008775, 0.999961, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.008775, 0.999961, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.026323, 0.999653, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.043863, 0.999038, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.061389, 0.998114, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.078897, 0.996883, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.096380, 0.995345, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.113833, 0.993500, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.131251, 0.991349, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.148629, 0.988893, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.165961, 0.986132, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.183242, 0.983068, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.200467, 0.979701, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.217629, 0.976031, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.234725, 0.972062, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.251748, 0.967793, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.268694, 0.963225, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.285558, 0.958362, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.302333, 0.953202, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.319015, 0.947750, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.335599, 0.942005, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.352079, 0.935970, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.368451, 0.929647, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.384709, 0.923038, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.400849, 0.916144, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.416866, 0.908968, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.432754, 0.901512, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.448509, 0.893778, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.464125, 0.885770, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.479599, 0.877488, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.494925, 0.868936, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.510099, 0.860116, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.525115, 0.851031, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.539970, 0.841685, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.554658, 0.832079, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.569175, 0.822216, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.583517, 0.812101, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.597680, 0.801735, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.611658, 0.791122, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.625448, 0.780266, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.639045, 0.769169, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.652446, 0.757835, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.665645, 0.746268, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.678640, 0.734471, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.691425, 0.722448, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.703997, 0.710202, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.716353, 0.697738, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.728488, 0.685059, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.740398, 0.672168, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.752081, 0.659071, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.763532, 0.645770, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.774747, 0.632271, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.785724, 0.618577, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.796459, 0.604692, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.806949, 0.590621, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.817190, 0.576368, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.827179, 0.561938, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.836914, 0.547335, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.846390, 0.532563, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.855607, 0.517627, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.864559, 0.502531, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.873245, 0.487281, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.881663, 0.471880, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.889808, 0.456335, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.897680, 0.440648, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.905275, 0.424826, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.912591, 0.408873, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.919626, 0.392794, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.926378, 0.376595, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.932845, 0.360279, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.939024, 0.343852, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.944914, 0.327319, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.950513, 0.310686, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.955819, 0.293956, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.960831, 0.277137, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.965546, 0.260231, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.969965, 0.243246, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.974084, 0.226186, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.977904, 0.209056, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.981422, 0.191862, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.984638, 0.174608, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.987551, 0.157301, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.990159, 0.139946, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.992463, 0.122547, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.994461, 0.105110, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.996152, 0.087641, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.997537, 0.070146, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.998614, 0.052628, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.999384, 0.035094, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.999846, 0.017550, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-1.000000, -0.000000, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.999846, -0.017550, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.999384, -0.035094, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.998614, -0.052628, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.997537, -0.070146, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.996152, -0.087642, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.994461, -0.105110, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.992463, -0.122547, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.990159, -0.139946, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.987551, -0.157301, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.984638, -0.174608, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.981422, -0.191862, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.977904, -0.209056, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.974084, -0.226186, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.969965, -0.243246, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.965546, -0.260231, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.960831, -0.277137, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.955819, -0.293956, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.950513, -0.310686, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.944914, -0.327319, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.939024, -0.343852, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.932845, -0.360279, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.926378, -0.376595, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.919626, -0.392795, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.912591, -0.408873, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.905275, -0.424826, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.897680, -0.440648, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.889808, -0.456335, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.881663, -0.471880, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.873245, -0.487281, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.864559, -0.502531, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.855607, -0.517627, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.846391, -0.532563, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.836914, -0.547335, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.827179, -0.561938, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.817190, -0.576369, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.806949, -0.590621, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.796459, -0.604692, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.785724, -0.618577, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.774747, -0.632271, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.763532, -0.645770, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.752081, -0.659071, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.740398, -0.672168, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.728488, -0.685059, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.716353, -0.697738, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.703997, -0.710203, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.691425, -0.722448, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.678640, -0.734471, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.665645, -0.746268, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.652446, -0.757835, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.639045, -0.769169, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.625448, -0.780266, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.611658, -0.791122, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.597680, -0.801735, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.583517, -0.812101, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.569175, -0.822216, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.554658, -0.832079, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.539969, -0.841685, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.525115, -0.851031, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.510098, -0.860116, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.494925, -0.868936, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.479599, -0.877488, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.464125, -0.885770, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.448509, -0.893779, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.432754, -0.901512, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.416866, -0.908968, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.400849, -0.916144, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.384710, -0.923038, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.368451, -0.929647, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.352079, -0.935970, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.335599, -0.942005, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.319015, -0.947750, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.302333, -0.953202, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.285558, -0.958362, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.268695, -0.963225, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.251749, -0.967793, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.234725, -0.972062, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.217630, -0.976031, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.200467, -0.979701, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.183242, -0.983068, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.165961, -0.986132, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.148629, -0.988893, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.131251, -0.991349, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.113833, -0.993500, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.096380, -0.995345, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.078896, -0.996883, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.061389, -0.998114, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.043863, -0.999038, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.026323, -0.999653, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.008775, -0.999961, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.008775, -0.999961, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.026323, -0.999653, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.043863, -0.999038, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.061389, -0.998114, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.078896, -0.996883, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.096380, -0.995345, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.113833, -0.993500, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.131251, -0.991349, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.148629, -0.988893, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.165961, -0.986132, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.183242, -0.983068, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.200467, -0.979701, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.217630, -0.976031, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.234725, -0.972062, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.251749, -0.967793, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.268695, -0.963225, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.285558, -0.958361, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.302333, -0.953202, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.319015, -0.947750, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.335599, -0.942005, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.352079, -0.935970, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.368451, -0.929647, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.384710, -0.923038, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.400849, -0.916144, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.416866, -0.908968, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.432754, -0.901512, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.448509, -0.893779, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.464125, -0.885769, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.479599, -0.877488, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.494925, -0.868936, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.510099, -0.860116, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.525115, -0.851031, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.539969, -0.841685, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.554658, -0.832079, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.569175, -0.822216, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.583517, -0.812101, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.597680, -0.801735, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.611658, -0.791122, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.625448, -0.780266, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.639045, -0.769169, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.652446, -0.757835, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.665645, -0.746268, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.678640, -0.734471, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.691425, -0.722448, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.703998, -0.710202, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.716353, -0.697738, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.728488, -0.685059, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.740398, -0.672169, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.752081, -0.659071, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.763532, -0.645770, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.774747, -0.632271, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.785724, -0.618577, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.796459, -0.604692, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.806949, -0.590621, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.817190, -0.576369, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.827179, -0.561938, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.836914, -0.547335, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.846391, -0.532563, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.855607, -0.517627, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.864559, -0.502531, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.873245, -0.487281, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.881663, -0.471880, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.889808, -0.456335, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.897680, -0.440648, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.905275, -0.424826, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.912591, -0.408873, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.919626, -0.392794, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.926378, -0.376594, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.932845, -0.360279, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.939024, -0.343852, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.944914, -0.327320, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.950513, -0.310686, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.955819, -0.293956, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.960830, -0.277137, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.965546, -0.260232, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.969965, -0.243246, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.974084, -0.226186, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.977904, -0.209056, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.981422, -0.191862, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.984638, -0.174608, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.987551, -0.157301, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.990159, -0.139946, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.992463, -0.122547, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.994461, -0.105110, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.996152, -0.087641, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.997537, -0.070145, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.998614, -0.052628, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.999384, -0.035094, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.999846, -0.017550, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{1.000000, 0.000000, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}}};
//GLushort CIndices[kCount] = {}; //{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358};


const NSUInteger kCount = 60;
Vertex CVertices[kCount] = {{{1.000000, 0.000000, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.994138, 0.108119, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.976621, 0.214970, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.947653, 0.319302, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.907575, 0.419889, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.856857, 0.515554, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.796093, 0.605174, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.725995, 0.687699, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.647386, 0.762162, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.561187, 0.827689, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.468408, 0.883512, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.370138, 0.928977, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.267528, 0.963550, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.161782, 0.986827, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.054139, 0.998533, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.054139, 0.998533, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.161782, 0.986827, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.267528, 0.963550, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.370138, 0.928977, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.468408, 0.883512, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.561187, 0.827689, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.647386, 0.762162, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.725995, 0.687699, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.796093, 0.605174, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.856857, 0.515554, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.907575, 0.419889, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.947653, 0.319302, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.976621, 0.214970, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.994138, 0.108119, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-1.000000, -0.000000, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.994138, -0.108119, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.976620, -0.214971, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.947653, -0.319301, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.907575, -0.419889, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.856857, -0.515554, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.796093, -0.605174, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.725996, -0.687699, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.647386, -0.762162, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.561187, -0.827689, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.468409, -0.883512, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.370138, -0.928977, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.267528, -0.963550, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.161782, -0.986826, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{-0.054139, -0.998533, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.054139, -0.998533, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.161782, -0.986826, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.267528, -0.963550, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.370138, -0.928977, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.468409, -0.883512, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.561187, -0.827689, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.647386, -0.762162, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.725996, -0.687699, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.796093, -0.605174, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.856857, -0.515554, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.907575, -0.419889, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.947653, -0.319302, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.976620, -0.214971, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{0.994138, -0.108119, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}},{{1.000000, 0.000000, 0.000000}, {1.000000, 1.000000, 1.000000, 1.000000}}};
GLushort CIndices[kCount] = {0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58};
@interface VWWWaveScene () {
    GLKVector4 clearColor;
    GLKBaseEffect *effect;
    float left, right, bottom, top;
    
    GLuint _vertexArray;
    GLuint _vertexBuffer;
    GLuint _indexBuffer;
    
    
    float _rotation;
    float _rotationSmall;
}

@end

@implementation VWWWaveScene

@synthesize clearColor;
@synthesize left, right, bottom, top;



-(id)init{
    self = [super init];
    if(self){
        
        [self setupGL];
    }
    return self;
}

-(void)setupGL{
    effect = [[GLKBaseEffect alloc] init];
    //    glEnable(GL_CULL_FACE);
    
    // New lines
    glGenVertexArraysOES(1, &_vertexArray);
    glBindVertexArrayOES(_vertexArray);
    
    
    
    
    
    
    //    glGenBuffers(1, &_vertexBuffer);
    //    glBindBuffer(GL_ARRAY_BUFFER, _vertexBuffer);
    //    glBufferData(GL_ARRAY_BUFFER, sizeof(CircleVertices), CircleVertices, GL_STATIC_DRAW);
    //    glGenBuffers(1, &_indexBuffer);
    //    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, _indexBuffer);
    //    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(CircleIndices), CircleIndices, GL_STATIC_DRAW);
    //
    //    glEnableVertexAttribArray(GLKVertexAttribPosition);
    //    glVertexAttribPointer(GLKVertexAttribPosition, 3, GL_FLOAT, GL_FALSE,
    //                          sizeof(Vertex), (const GLvoid *) offsetof(Vertex, Position));
    //    glEnableVertexAttribArray(GLKVertexAttribColor);
    //    glVertexAttribPointer(GLKVertexAttribColor, 4, GL_FLOAT, GL_FALSE,
    //                          sizeof(Vertex), (const GLvoid *) offsetof(Vertex, Color));
    
    //    glGenBuffers(1, &_vertexBuffer);
    //    glBindBuffer(GL_ARRAY_BUFFER, _vertexBuffer);
    //    glBufferData(GL_ARRAY_BUFFER, sizeof(CVertices), CVertices, GL_STATIC_DRAW);
    //    glGenBuffers(1, &_indexBuffer);
    //    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, _indexBuffer);
    //    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(CIndices), CIndices, GL_STATIC_DRAW);
    //
    //    glEnableVertexAttribArray(GLKVertexAttribPosition);
    //    glVertexAttribPointer(GLKVertexAttribPosition, 3, GL_FLOAT, GL_FALSE,
    //                          sizeof(Vertex), (const GLvoid *) offsetof(Vertex, Position));
    //    glEnableVertexAttribArray(GLKVertexAttribColor);
    //    glVertexAttribPointer(GLKVertexAttribColor, 4, GL_FLOAT, GL_FALSE,
    //                          sizeof(Vertex), (const GLvoid *) offsetof(Vertex, Color));
    
    
    
    glBindVertexArrayOES(0);
    
    [self update];
}

-(void)update {
//    int vertexCount = kCount;
//    float radius = 1.0f;
//    float center_x = 0.0f;
//    float center_y = 0.0f;
//    
//    //outer vertices of the circle
//    int outerVertexCount = vertexCount-1;
//
//    for (int i = 0; i < outerVertexCount; ++i){
//        float percent = (i / (float) (outerVertexCount-1));
//        float rad = percent * 2 * M_PI;
//        
//        float x = center_x + radius * cos(rad);
//        float y = center_y + radius * sin(rad);
//        Vertex v = {{x, y, 0}, {1, 1, 1, 1}};
//        
//        CVertices[i] = v;
//        CIndices[i] = i;
//    }
//    
//    
//    
//    // This will print out data for our verticies. No need to compute every cycle when we can predefine
//    
//    NSMutableString *vertices = [[NSMutableString alloc]initWithString:@"{\n"];
//    NSMutableString *indices = [[NSMutableString alloc]initWithString:@"{\n"];
//    for (int i = 0; i < outerVertexCount; ++i){
//        Vertex v = CVertices[i];
//        float *Position= v.Position;
//        float *Color = v.Color;
//
//        NSString *vertex = [NSString stringWithFormat:@"{{%f, %f, %f}, {%f, %f, %f, %f}},",
//                            Position[0],
//                            Position[1],
//                            Position[2],
//                            Color[0],
//                            Color[1],
//                            Color[2],
//                            Color[3]];
//
//        [vertices appendFormat:@"%@", vertex];
//
////        (const GLvoid *) offsetof(Vertex, Color)
//
//
//        [indices appendFormat:@"%ld,", (long)i];
//    }
//
//    [vertices appendFormat:@"}\n"];
//    [indices appendFormat:@"}\n"];
//    
//    
//    NSLog(@"Vertices: \n%@", vertices);
//    NSLog(@"Indices: \n%@", indices);
//    int i = 0;
    
    
//    GLKMatrix4 modelViewMatrix = GLKMatrix4MakeTranslation(0.0f, 0.0f, -6.0f);
//    GLKMatrix4 modelViewMatrix = GLKMatrix4Identity;
//    _rotation += 90 * self.owner.timeSinceLastUpdate;
//    modelViewMatrix = GLKMatrix4Rotate(modelViewMatrix, GLKMathDegreesToRadians(2 * _rotation), 1, 0, 0);
//    modelViewMatrix = GLKMatrix4Rotate(modelViewMatrix, GLKMathDegreesToRadians(_rotation), 0, 1, 0);
//    effect.transform.modelviewMatrix = modelViewMatrix;

    glGenBuffers(1, &_vertexBuffer);
    glBindBuffer(GL_ARRAY_BUFFER, _vertexBuffer);
    glBufferData(GL_ARRAY_BUFFER, sizeof(CVertices), CVertices, GL_STATIC_DRAW);
    glGenBuffers(1, &_indexBuffer);
    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, _indexBuffer);
    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(CIndices), CIndices, GL_STATIC_DRAW);
    
    glEnableVertexAttribArray(GLKVertexAttribPosition);
    glVertexAttribPointer(GLKVertexAttribPosition, 3, GL_FLOAT, GL_FALSE,
                          sizeof(Vertex), (const GLvoid *) offsetof(Vertex, Position));
    glEnableVertexAttribArray(GLKVertexAttribColor);
    glVertexAttribPointer(GLKVertexAttribColor, 4, GL_FLOAT, GL_FALSE,
                          sizeof(Vertex), (const GLvoid *) offsetof(Vertex, Color));
    
    

}



-(void)render {
    // Setup scene
    glClearColor(clearColor.r, clearColor.g, clearColor.b, clearColor.a);
    glClear(GL_COLOR_BUFFER_BIT);
    effect.transform.projectionMatrix = GLKMatrix4MakeOrtho(left, right, bottom, top, 2, -2);
    
    

    
    // Draw multiple circles
    float offsetRotationSmall = 360 / self.size;
    
    NSInteger yMax = self.size / 2;
    NSInteger yMin = -yMax;
    NSInteger xMax = yMax / 2;
    NSInteger xMin = -xMax;
    
    
    for(NSInteger y = yMin; y <= yMax; y++){
        for(NSInteger x = xMin; x <= xMax; x++){
            glLineWidth(1.0f);
            GLKMatrix4 modelViewMatrix = GLKMatrix4Identity;
            modelViewMatrix = GLKMatrix4Translate(modelViewMatrix, 1.2 * x, 1.2 * y, 0);
            effect.transform.modelviewMatrix = modelViewMatrix;
            [effect prepareToDraw];
            glDrawElements(GL_LINE_STRIP, sizeof(CIndices)/sizeof(CIndices[0]), GL_UNSIGNED_SHORT, 0);

            float yy = y * offsetRotationSmall;
            float xx = x * offsetRotationSmall;
            float rr = _rotationSmall + xx + yy;
//            int xx = x * y * offsetRotationSmall;
//            float xo = xx * offsetRotationSmall;
            float x = 5 * cos(GLKMathDegreesToRadians(rr));
            float y = 5 * sin(GLKMathDegreesToRadians(rr));
            modelViewMatrix = GLKMatrix4Scale(modelViewMatrix, 0.2, 0.2, 0);
            modelViewMatrix  = GLKMatrix4Translate(modelViewMatrix, x, y, 0);

            effect.transform.modelviewMatrix = modelViewMatrix;
            [effect prepareToDraw];
            
            glEnableVertexAttribArray(GLKVertexAttribColor);
//            glVertexAttribPointer(GLKVertexAttribColor, 4, GL_FLOAT, GL_FALSE,
//                                  sizeof(Vertex), (const GLvoid *) offsetof(Vertex, Color));

//            float Color[4] = {1, 0, 0, 1};
//            glVertexAttrib4fv(4, Color);
//            glColor4f(1.0f, 0.0f, 0.0f, 1.0f);
//            glColor4f(0.0f,1.0f,0.0f,1.0f);//Change the object color to red
            glLineWidth(8.0f);
//            glVertexPointer(3, GL_FLOAT, 0, vVertices);
//            glEnableClientState(GL_VERTEX_ARRAY);
            glDrawElements(GL_LINE_STRIP, sizeof(CIndices)/sizeof(CIndices[0]), GL_UNSIGNED_SHORT, 0);

        }
    }

    _rotationSmall += 180 * self.owner.timeSinceLastUpdate;
//    GLKMatrix4 modelViewMatrix = GLKMatrix4Identity;
//    _rotation += 90 * self.owner.timeSinceLastUpdate;
//    modelViewMatrix = GLKMatrix4Rotate(modelViewMatrix, GLKMathDegreesToRadians(2 * _rotation), 1, 0, 0);
//    modelViewMatrix = GLKMatrix4Rotate(modelViewMatrix, GLKMathDegreesToRadians(_rotation), 0, 1, 0);
//    effect.transform.modelviewMatrix = modelViewMatrix;
//    
//    
//    //    glBindVertexArrayOES(_vertexArray);
//    [effect prepareToDraw];
//    glDrawElements(GL_LINE_STRIP, sizeof(CIndices)/sizeof(CIndices[0]), GL_UNSIGNED_SHORT, 0);
//
//    _rotation += 90 * self.owner.timeSinceLastUpdate;
//    modelViewMatrix = GLKMatrix4Rotate(modelViewMatrix, GLKMathDegreesToRadians(3 * _rotation), 1, 0, 0);
//    modelViewMatrix = GLKMatrix4Rotate(modelViewMatrix, GLKMathDegreesToRadians(0.5 * _rotation), 0, 1, 0);
//    effect.transform.modelviewMatrix = modelViewMatrix;
//
//    
//    [effect prepareToDraw];
//    glDrawElements(GL_LINE_STRIP, sizeof(CIndices)/sizeof(CIndices[0]), GL_UNSIGNED_SHORT, 0);
    
}


@end
